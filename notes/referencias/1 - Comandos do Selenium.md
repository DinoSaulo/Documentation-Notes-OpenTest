# [Comandos do Selenium](https://getopentest.org/reference/selenium-keywords.html)

## Observações

- Os argumentos de palavra-chave obrigatórios são mostrados em **negrito**.
- Todas as palavras-chave listada nessa página serão encontradas no pacote `org.getopentest.selenium`, então, você pode chamar pelo nome deles através desse pacote. PPor exemplo, para chamar a ação Click, use esta sintaxe:

```yaml
- description: Clique no botão Submit
  action: org.getopentest.selenium.Click
  args:
    locator: { id: submit }
```

Se você tem alguma familiaridade básica com a linguagem Java e gostaria de saber mais obre como uma determinada palavra-chave é implementada, [dê uma olhada no código-fonte](https://github.com/mcdcorp/opentest/tree/master/actor/selenium/src/main/java/org/getopentest/selenium)

## Localizadores de elementos de interface do usuário (UI)

Como a maioria das palavras-chave do Selenium atua em um elemento de UI específica, elas precisam receber uma maneira de identificar esse elemento. Isso é feito fornecendo um argumento localizador ou _locator_. Os argumentos do localizadores são simplesmente objetos que devem conter as informações necessárias para identificar um elemento de UI da web, usando um dos métodos suportados pelo Selenium (id, css, name, class, tag, text ou xpath). Alguns exemplos:

```yaml
locator: { id: element1 }
locator: { name: name1 }
locator: { css: #container div.class1 }
locator: { class: class1 }
locator: { tag: button }
locator: { linkText: Save Product }
locator: { partialLinkText: Save }
locator: { xpath: "//element[@class='class1']" }
```

**OBS:** Na maioria dos casos, os valores especificados nos argumentos de locators não precisam ser colocados em aspas duplas (graças a sintaxe do YAML). No entanto, a maioria das expressões xPath devem ser colocadas entre aspas duplas, porquel elas podem conter caracteres de colchetes ("[" e "]"), que no YAML são caracteres especiais utilizados para representar um valor de matriz.

# Palavras-chave comuns

## AddCookie

Adiciona um cookie na instância atual do navegador.

Argumentos:
|Argumento      | Função          |
|---------------|-----------------|
|`name`|O nome do cookie|
|`value`|O valor de texto do cookie|
|`domain`|O domínio para o qual o cookie é visível. Quando não especificado, por padrão é utilizado o dominio atual.|
|`path`|O caminho no qual o cookie é visível. Quando não especificado ou definido como `null`, por padrãoé utilizado o path `/`
|`isSecure`|É uma flag (valor booleano), que especifica se o cookie reque uma conexão segura, ou seja, conexões HTTPS.|
|`isHttpOnly`|É uma flag (valor booleano), que especifica se o cookie é apenas para conexões HTTP.|

Exemplo:
```yaml
- description: Adiciona um cookie chamado LastPage
  action: org.getopentest.selenium.AddCookie
  args:
    name: LastPage
    value: 37
```

## AssertAttributeValue
Valida o valor de um atributo para um elemento HTML.

Argumentos:
|Argumento      | Função          |
|---------------|-----------------|
|`locator`|O locator do elemento na UI|
|`attribute`|O nome do atributo a ser validado|
|`value`|O valor exato que esperamos que o atributo tenha.|
|`valueContains`|É um atributo para verificar se o valor contem uma substring com o valor do atributo.|
|`valueMatches`|É dado por uma [Expressão Regular](https://developer.mozilla.org/pt-BR/docs/Web/JavaScript/Guide/Regular_Expressions) para verificar a correspondência do valor do atributo.|
|`caseInsensitive`|É uma flag (valor booleano), que define e as operações de comparação de texto serão realizadas desconsiderando ou não letras maiúsculas e minúsculas. Padrão: `false`|


Exemplo 1:
```yaml
- description: Valida o "name" no primeiro input
  action: org.getopentest.selenium.AssertAttributeValue
  args:
    locator: { xpath: "(//div[@id='order']/input)[1]" }
    attribute: name
    value: product
    caseInsensitive: true
```

Exemplo 2:
```yaml
- description: Valida o "name" no segundo input
  action: org.getopentest.selenium.AssertAttributeValue
  args:
    locator: { xpath: "(//div[@id='order']/input)[2]" }
    attribute: name
    valueMatches: ^element\d{5}$
```

## AssertElementDisabled

Verifica se na UI um elemento está desabilitado.

Exemplo:
```yaml
- description: Verifica se o botão submit está desabilitado
  action: org.getopentest.selenium.AssertElementDisabled
  args:
    locator: { id: submit }
```

## AssertElementEnabled

Verifica se na UI um elemento está habilitado.

Exemplo:
```yaml
- description: Verifica se o botão submit está habilitado
  action: org.getopentest.selenium.AssertElementEnabled
  args:
    locator: { id: submit }
```

## AssertElementHasClass

Verifica se um elemento da UI contém s classe especificada.

Argumentos:
|Argumento      | Função          |
|---------------|-----------------|
|`locator`|O locator do elemento na UI|
|`class`|O nome da classe que será buscado|

Exemplo:
```yaml
- description: Verifica se o botão submit tem a classe "primary"
  action: org.getopentest.selenium.AssertElementHasClass
  args:
    locator: { id: submit }
    class: primary
```

## AssertElementNotPresent

Verifica se um elemento da UI NÃO está presente no DOM, independentemente de sua visibilidade. Essa asserção falhará mesmo se o elemento não estiver visível no momento, desde que ele exista no DOM.

Argumentos:
|Argumento      | Função          |
|---------------|-----------------|
|`locator`|O locator do elemento na UI|

Exemplo:
```yaml
- description: Verifica se o botão submit não está presente
  action: org.getopentest.selenium.AssertElementNotPresent
  args:
    locator: { id: submit }
```

## AssertElementNotReadOnly

Verifica se um elemento da  UI não tem o atributo "readonly".

Argumentos:
|Argumento      | Função          |
|---------------|-----------------|
|`locator`|O locator do elemento na UI|

Exemplo:
```yaml
- description: Verifica se o botão submit não está com o atributo read-only
  action: org.getopentest.selenium.AssertElementNotReadOnly
  args:
    locator: { id: submit }
```

## AssertElementNotSelected

Verifica se um elemento da UI não está selecionado.

Argumentos:
|Argumento      | Função          |
|---------------|-----------------|
|`locator`|O locator do elemento na UI|

Exemplo:
```yaml
- description: Verifica se o checkbox "Agree" não está selecionado
  action: org.getopentest.selenium.AssertElementNotSelected
  args:
    locator: { id: agree }
```

## AssertElementNotVisible

Verifica se um elemento da UI está invisível (não visivel) ou não está presente no DOM.

Argumentos:
|Argumento      | Função          |
|---------------|-----------------|
|`locator`|O locator do elemento na UI|

Exemplo:
```yaml
- description: Verifica se o botão submit não está visivel
  action: org.getopentest.selenium.AssertElementNotVisible
  args:
    locator: { id: submit }
```

## AssertElementPresent

Verifica se um elemento da UI está presente no DOM, independentemente de se está visivel ou não. Essa asserção será bem-sucedida mesmo para um elemento que não seja visivel na UI, desde que exista no DOM.

Argumentos:
|Argumento      | Função          |
|---------------|-----------------|
|`locator`|O locator do elemento na UI|

Exemplo:
```yaml
- description: Verifica se o botão submit está presente no DOM
  action: org.getopentest.selenium.AssertElementPresent
  args:
    locator: { id: submit }
```

## AssertElementReadOnly

Verifica se um elemento da UI tem o atributo "readonly" especificado (independentemente do tenha um valor atributo).

Argumentos:
|Argumento      | Função          |
|---------------|-----------------|
|`locator`|O locator do elemento na UI|

Exemplo:
```yaml
- description: Verifica se o botão submit está possui o atributo readonly
  action: org.getopentest.selenium.AssertElementReadOnly
  args:
    locator: { id: submit }
```

## AssertElementSelected

Verifica se um elemento da UI está selecionado.

Argumentos:
|Argumento      | Função          |
|---------------|-----------------|
|`locator`|O locator do elemento na UI|

Exemplo:
```yaml
- description: Verifica se o checkbox "Agree" está selecionado
  action: org.getopentest.selenium.AssertElementSelected
  args:
    locator: { id: agree }
```

## AssertElementText

Valida o conteúdo de texto de um elemento da UI.

Argumentos:
|Argumento      | Função          |
|---------------|-----------------|
|`locator`|O locator do elemento na UI|
|`text`|O texto exato que esperamos encontrar na UI.|
|`textContains`|Uma substring que esperamos estar contida em parte no elemento da UI.|
|`textMatches`|Uma Expressão Regular para corresponder ao texto do elemento.|
|`caseInsensitive`|É uma flag (valor booleano), que define e as operações de comparação de texto serão realizadas desconsiderando ou não letras maiúsculas e minúsculas. Padrão: `false`|

Exemplo 1:
```yaml
- description: Verifica se o "product" é um MacBook
  action: org.getopentest.selenium.AssertElementText
  args:
    locator: { id: product }
    textContains: macbook
    caseInsensitive: true
```

Exemplo 2:
```yaml
- description: Verifica i zip code utilizando uma expressão regular
  action: org.getopentest.selenium.AssertElementText
  args:
    locator: { id: zipcode }
    textMatches: ^\d{5}$
```

## AssertElementVisible

Verifica se um elemento da UI está presente no DOM e visível na página. Visibilidade significa que o elemento não é apenas exibido, mas também tem altura e largura maiores que 0.

Argumentos:
|Argumento      | Função          |
|---------------|-----------------|
|`locator`|O locator do elemento na UI|

Exemplo 1:
```yaml
- description: Verifica se o botão submit está visível
  action: org.getopentest.selenium.AssertElementVisible
  args:
    locator: { id: submit }
```

## AssertListOption

Valida se uma determinada opção está selecionada em um determinado input do tipo select (abaixo há uma imagem de um input desse tipo).

![Exemplo de input do tipo select ](https://i.stack.imgur.com/aWAbc.png)

Argumentos:
|Argumento      | Função          |
|---------------|-----------------|
|`locator`|O locator do elemento na UI|
|`optionValue`|O valor da opção da lista a ser procurado.|
|`optionText`|O texto exato da opção buscada na lista.|
|`optionNumber`|O número (ou index) da opção na lista de opções (a numeração começa em 1 e não em 0).|

**OBS:** Obrigatóriamente um dos parâmetros `optionValue`, `optionText` ou `optionNumber` deve ser informado!

Exemplo:
```yaml
- description: Verifica se a segunda opção da lista de produtos está selecionada
  action: org.getopentest.selenium.AssertListOption
  args:
    locator: { id: products }
    optionNumber: 2
```

## AssertPageTitle

Valida o título da página atual.

Argumentos:
|Argumento      | Função          |
|---------------|-----------------|
|`title`|O texto exato que esperamos no título da página. Exatamente um dos argumentos title ou titleContains deve ser fornecido.|
|`titleContains`|Uma substring que esperamos encontrar presente em algum lugar no título da página.|

**OBS:** Obrigatóriamente um dos parâmetros `title` ou `titleContains` deve ser informado!

**OBS 2:** O título de uma página é o texto exibido na guia do navegador. E não algum título (por maior que seja) dentro da página.

Exemplo:
```yaml
- description: Validar o título da página
  action: org.getopentest.selenium.AssertPageTitle
  args:
    text: Place order
```

## ClearContent

Limpa o conteúdo de texto de inputs ou textarea. Ele não serve para outros elementos web.

Observe que alguns eventos de teclado ou mouse não serão acionados ao usar essa função.

Argumentos:
|Argumento      | Função          |
|---------------|-----------------|
|`locator`|O locator do elemento na UI|

Exemplo:
```yaml
- description: Limpa o conteúdo de texto do input username
  action: org.getopentest.selenium.ClearContent
  args:
    locator: { id: username }
```

## Click

Clica em um elemento (da para deduzir pelo nome ¯\\\_(ツ)_/¯ ).
Para que um elemento possa ser clicado, ele deve ser visível e ter altura e largura maiores do que 0.
Essa função não restringe o clique para botões ou inputs, com ela podemos interagir com imagens, barras de navegação e diversos outros elementos web.

Argumentos:
|Argumento      | Função          |
|---------------|-----------------|
|`locator`|O locator do elemento na UI|

Exemplo:
```yaml
- description: Clica no botão submit
  action: org.getopentest.selenium.Click
  args:
    locator: { id: submit }
```

## CloseBrowser

Fecha o navegador no qual o teste está sendo executado e finaliza o Webdriver, ou em termos técnicos, descarta a instância atual do navegador e a instância WebDriver.

Essa função normalmente não precisa ser usada explicitamente, pois em quase todos (se não todos os testes) vamos querer fechar o navegador após a execução dos testes, e o ator de teste fecha automaticamente a instância do navegador quando uma sessão de teste termina ( e em seguida ele cria uma nova instância do navegador para a execução do próximo teste, caso seja necessário).

Argumentos:

Nenhum argumento é necessário

Exemplo:
```yaml
- description: Feche a instância atual do navegador
  action: org.getopentest.selenium.CloseBrowser
```

## CloseWindow

Fecha a guia/aba atual do navegador.

Argumentos:

Nenhum argumento é necessário

Exemplo:
```yaml
- description: Feche a aba atual do navegador
  action: org.getopentest.selenium.CloseWindow
```

## DeleteCookie

Deleta um cookie da instância atual do navegador.

Argumentos:
|Argumento      | Função          |
|---------------|-----------------|
|`name`|O nome do cookie que será deletado.|

Exemplo:
```yaml
- description: Exclui o cookie LastPage
  action: org.getopentest.selenium.DeleteCookie
  args:
    name: LastPage
```

## DeselectListOption

Desmarca ou desseleciona uma opção selecionada em um input select.

Argumentos:
|Argumento      | Função          |
|---------------|-----------------|
|`locator`|O locator do elemento na UI|
|`optionValue`|O valor da opção da lista a ser procurado.|
|`optionText`|O texto exato da opção buscada na lista.|
|`optionNumber`|O número (ou index) da opção na lista de opções (a numeração começa em 1 e não em 0).|

**OBS:** Obrigatóriamente um dos parâmetros `optionValue`, `optionText` ou `optionNumber` deve ser informado (assim como para a função `AssertListOption`)!

Exemplo:
```yaml
- description: Desmarca o segundo item na lista de produtos
  action: org.getopentest.selenium.DeselectListOption
  args:
    locator: { id: products }
    optionNumber: 2
```
<!---
## ExecuteScript



Argumentos:
|Argumento      | Função          |
|---------------|-----------------|
|`locator`|O locator do elemento na UI|

Exemplo:
```yaml

```

## GetElements



Argumentos:
|Argumento      | Função          |
|---------------|-----------------|
|`locator`|O locator do elemento na UI|

Exemplo:
```yaml

```

## HandleModal



Argumentos:
|Argumento      | Função          |
|---------------|-----------------|
|`locator`|O locator do elemento na UI|

Exemplo:
```yaml

```

## NavigateBack



Argumentos:
|Argumento      | Função          |
|---------------|-----------------|
|`locator`|O locator do elemento na UI|

Exemplo:
```yaml

```

## NavigateForward



Argumentos:
|Argumento      | Função          |
|---------------|-----------------|
|`locator`|O locator do elemento na UI|

Exemplo:
```yaml

```

## NavigateTo



Argumentos:
|Argumento      | Função          |
|---------------|-----------------|
|`locator`|O locator do elemento na UI|

Exemplo:
```yaml

```

## ReadCookie



Argumentos:
|Argumento      | Função          |
|---------------|-----------------|
|`locator`|O locator do elemento na UI|

Exemplo:
```yaml

```

## ReadCssProperty



Argumentos:
|Argumento      | Função          |
|---------------|-----------------|
|`locator`|O locator do elemento na UI|

Exemplo:
```yaml

```

## ReadCurrentUrl



Argumentos:
|Argumento      | Função          |
|---------------|-----------------|
|`locator`|O locator do elemento na UI|

Exemplo:
```yaml

```

## ReadElementAspect



Argumentos:
|Argumento      | Função          |
|---------------|-----------------|
|`locator`|O locator do elemento na UI|

Exemplo:
```yaml

```

## ReadElementAttribute



Argumentos:
|Argumento      | Função          |
|---------------|-----------------|
|`locator`|O locator do elemento na UI|

Exemplo:
```yaml

```

## ReadElementCount



Argumentos:
|Argumento      | Função          |
|---------------|-----------------|
|`locator`|O locator do elemento na UI|

Exemplo:
```yaml

```

## ReadElementText



Argumentos:
|Argumento      | Função          |
|---------------|-----------------|
|`locator`|O locator do elemento na UI|

Exemplo:
```yaml

```

## ReadPageSource



Argumentos:
|Argumento      | Função          |
|---------------|-----------------|
|`locator`|O locator do elemento na UI|

Exemplo:
```yaml

```

## ReadPageTitle



Argumentos:
|Argumento      | Função          |
|---------------|-----------------|
|`locator`|O locator do elemento na UI|

Exemplo:
```yaml

```

## SelectListOption



Argumentos:
|Argumento      | Função          |
|---------------|-----------------|
|`locator`|O locator do elemento na UI|

Exemplo:
```yaml

```

## SendKeys



Argumentos:
|Argumento      | Função          |
|---------------|-----------------|
|`locator`|O locator do elemento na UI|

Exemplo:
```yaml

```

## SetBrowserAspect



Argumentos:
|Argumento      | Função          |
|---------------|-----------------|
|`locator`|O locator do elemento na UI|

Exemplo:
```yaml

```

## SwitchToDefaultContent



Argumentos:
|Argumento      | Função          |
|---------------|-----------------|
|`locator`|O locator do elemento na UI|

Exemplo:
```yaml

```

## SwitchToFrame



Argumentos:
|Argumento      | Função          |
|---------------|-----------------|
|`locator`|O locator do elemento na UI|

Exemplo:
```yaml

```

## SwitchToLastWindow



Argumentos:
|Argumento      | Função          |
|---------------|-----------------|
|`locator`|O locator do elemento na UI|

Exemplo:
```yaml

```

## SwitchToWindow



Argumentos:
|Argumento      | Função          |
|---------------|-----------------|
|`locator`|O locator do elemento na UI|

Exemplo:
```yaml

```

## TakeScreenshot



Argumentos:
|Argumento      | Função          |
|---------------|-----------------|
|`locator`|O locator do elemento na UI|

Exemplo:
```yaml

```
-->