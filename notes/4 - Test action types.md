# [Tipos de *actions* de teste](https://getopentest.org/docs/test-action-types.html)

## Visão Geral

As *actions* ou ações de um teste são as partes atômicas de um caso de teste que executam uma etapa do teste (por exemplo, clicar em um elemento, fazer uma requisição HTTP e outros). No mundo de automação de teste aas *actions* são chamadas de "*keywords*", ou palavras-chave e a prática de teste correspondente é chamada de teste "*keyword-driven*" ou teste orientado por palavras-chave.
As actions são executadas sequencialmente, seguindo a ordem em que foram especcificadas no arquivo YAML do caso de teste. Cada action pode receber nenhum ou mais argumentos de entrada e pode produzir um ou mais valores de saída que podem ser usados nas actions seguintes.

O OpenTest possui três tipos de ações de teste: ações regulares, ações de script e ações de macro.

## Ações regulares

A maioria das ações de teste regulares que estão presentes no pacote principal do OpenTest, nas novas actions podem ser adicionadas como extensões personalizadas (veremos isso a frente). As actions de teste regulares são implementadas como classes Java que herdam da classe base TestAction.


Uma action de teste regular possui a seguinte estrutura/sintaxe:
```yaml
- description: Esta é um passo de teste de exemplo
  action: org.getopentest.actions.SampleAction
  args:
    argument1: value1
    argument2: value2
```

As três propriedades de uma ação de testes regulares são:

- `description`(option): A descrição é apenas um texto legível para humanos descrevendo que a ação irá fazer no caso de teste em que ela está. A descrição também é usada em logs e em relatórios de execução dos testes, então, criar uma descrição clara e precisa torna muito mais facil de entender o fluxo de execução e para solucionar problemas nos casos de teste com falha.

- `action`: Essa propriedade pe um nome de uma classe Java que implementa alógica da ação de teste (nome do pacote e nome da classe, separadas por um ponto). Por exemplo, para executar a action Click do pacote `org.getopentest.selenium` é utilizado o `org.getopentest.selenium.Click`.

- `args`(opcional): Os argumentos passados para uma ação de teste, para algumas ações podem ser bem simples, ou até nem precisar dessa propriedade (por exemplo, a action SwitchToLastWindow do Selenium), a maioria das ações de teste requerem informações adicionais para serem executadas com sucesso, como um locator de um elemento de uma pagina web para ser clicado, ou um texto para ser digitado em uma caixa de texto. Os argumentos podem ser tipos de dados simples como strings ou números, mas também podem ser complexos, como coleções de pares nome-valor de mapas hash (hash-maps).

## Actions de script

O código JavaScript pode ser inserido em qualquer lugar no fluxo de um caso de teste usando actions de script. Assim como nos outros tipos de ação de teste, as ações de scipt fonecem a propriedade `description`, que é opicional. Já o código JavaScript que será executado deve ser descrito na propriedade `script` como um valor de string da ação de teste.
Abaixo temos um exempolo de action de script que pausa a execução do teste por 2 segundos, implementada usando a função `$delay` presente no OpenTest

```yaml
- description: Pausa a execução do teste por dois segundos
  script: $delay(2000)
```

Para scripts mais complexos, e que necessitam de mais de uma linha, pode sser usado a barra "|" ou pipe, para organizar o script em várias linhas e de forma identada, caso necessário. O exemplo abaixo demonstra a utilização do pipe em uma action de testes:

```yaml
- description: Clicar nos botões com IDs "button1" até "button100"
  script: |
    for (var buttonNo = 1; buttonNo <= 100; buttonNo++) {
        $runAction("org.getopentest.selenium.Click", {
            locator: { id: "button" + buttonNo }
        });
    }
```

