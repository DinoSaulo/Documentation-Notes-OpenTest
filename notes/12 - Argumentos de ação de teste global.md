# [Argumentos de ação de teste global](https://getopentest.org/docs/global-arguments.html)

Os argumentos globais podem ser utilizados para controlar como uma ação é executada e acionar comportamentos adicionais, conforme será descrito nas seções abaixo. Os argumentos de ação de teste podem ser passados para qualquer ação de teste, seja ele parte da distribuição principal do OpenTest ou implementada em um plug-in. Eles são de facil identificação, pois os nomes deles começam com `$`, semelhante a outros simbolos definidos em outros comandos do OpenTest.

## $if

Determina se uma ação de teste que será executada pode ser ignorada. O valor desse argumento deve ser uma expressão JavaScript que irá retornar um boleano. A ação de teste será executada se a expressão retornar um `true` e não será ignorada se a expressão retornar um `false`.

Example:
```yaml
# Esse teste só será executado antes das 10h
# ignorado se o teste for executado no final do dia

- description: Clicka no botão "Good morning"
  action: org.getopentest.selenium.Click
  args:
    locator: { id: good-morning }
    $if: $script (new Date()).getHours() < 10
```

## $checkpoint

Quando uma etapa de teste falha, o comportamento padrão do OpenTest é interromper a execução do teste de falhar o teste imediatamente. Quando atribuido o valor `true` o argumento `$checkpoint` marca uam etapa de teste como checkpoint, o que significa que, caso a etapa falhe o teste ainda será marcado como com falha, mas continuará executando até o final como se nenhuma falha tivesse ocorrido. Isso significa que o teste pode fazer mais verificações de uma vez só, minimizando o tempo de execução, e conservando os recursos de computação. Para obter mais informações, consulte o [resumo de checkpoints](11%20-%20Checkpoints.md).

Exemplo:

```yaml
# O $checkpoint verifica a visibilidade do elemento,
# mas não falha no teste imediatamente
# quando esta etapa falha

- description: Verifique a visibilidade da caixa de consulta
  action: org.getopentest.selenium.AssertElementVisible
  args:
    locator: { name: q }
    $checkpoint: true
```

## $optional

Tanto as ações opcionais (definidas pelo `$optional: true`) quanto os pontos de verificação  (definidas pelo `$checkpoint: true`) permitem que a execução do teste continue após a falha de ação.  A diferença é que as ações opcionais não marcarão o teste como reprovado, o que significa que o teste pode potencialmente passar (desde que nada mais falhe). Diferentemente do `$optional` quando uma ação falha ele não irá falhar o teste como um todo (a menos que ocorra falha em alguma outra ação que não utilize o `$optional` com o valor `true`).
Quando o atribuído tem um valor `true`, ele marca uma etapa de teste como não crítica para o sucesso do teste e evita a falha no teste se essa etapa falhar.
Por default, ele sempre está como false, ou seja, todos as ações falhadas irão falhar e interromper a execução do caso de teste.

```yaml
# Quando esta ação falhar, o teste continuará e
# não será considerado falho

- description: Ação simples que não faz nada
  action: org.getopentest.actions.SampleAction
  args:
    $optional: true
```

## $screenshot

Quando marcada como `true` instrui a ação de teste a fazer uma captura de tela após a execução da ação.

Exemplo:

```yaml
- description: Clique no product1 e tire uma captura de tela
  action: org.getopentest.selenium.Click
  args:
    locator: { id: product1 }
    $screenshot: true
```

## $localData

O argumento `$localData` grava os dados no armazenamento local do ator de testes. O armazenamento de dados local é um objeto (um [Java map](https://www.devmedia.com.br/conhecendo-a-interface-map-do-java/37463)) que pode ser usado para armazenar e recuperar facilmente partes de dados que precisam ser compartilhadas entre várias etapas de teste **de um mesmo ator**. Para mais informações consulte a página [7 - Passando dados entre os passoas de teste](7%20-%20Passando%20dados%20entre%20os%20passoas%20de%20teste.md)

Exemplo:
```yaml
- description: |
    Lê o nome do usuário e escreve o username na propriedade de dados local
  action: org.getopentest.selenium.ReadElementText
  args:
      locator: {css: p.username}
      $localData:
        username: $output.text
```

## $sharedData
O argumento `$sharedData` grava dados no armazenamento de dados compartilhado. O armazenamento de dados compartilhado pode é mantido no servidor do OpenTest e pode ser usado para armazenar e recuperar facilmente partes de dados que precisam ser compartilhadas entre dois ou vários atores de teste que fazem parte de um teste distribuído. Para mais informações consulte a página [7 - Passando dados entre os passoas de teste](7%20-%20Passando%20dados%20entre%20os%20passoas%20de%20teste.md)

Exemplo:
```yaml
- description: |
    Lê o nome do usuário e escreve o username na propriedade de dados compartilhados
  action: org.getopentest.selenium.ReadElementText
  args:
    locator: {css: p.username}
    $sharedData:
        username: $output.text
```

## $sessionData
O preenchimento do argumento `$sessionData` grava dados no armazenamento de dados da sessão. O que significa que eles podem ser acessados em qualquer parte da sessão de testes. Para mais informações consulte a página [7 - Passando dados entre os passoas de teste](7%20-%20Passando%20dados%20entre%20os%20passoas%20de%20teste.md)

Exemplo:
```yaml
- description: |
    Lê o nome do usuário e escreve o username na propriedade de dados da sessão
  action: org.getopentest.selenium.ReadElementText
  args:
    locator: {css: p.username}
    $sessionData:
        username: $output.text
```