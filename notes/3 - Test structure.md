# [Estrutura do teste](https://getopentest.org/docs/test-structure.html)

## Visão geral

Por padrão, no OpenTest os casos de teste são definidos em arquivos individuais, que estão no repositório localizados na pasta [./test-repo/tests/](./../test-repo/tests/) e são escritos na sintaxe YAML. 

O [YAML](https://yaml.org/) é um formato de escrita amigável e bastante utilizado em outras ferramentas como Github Actions, Jenkinks e outros. Através dele é possivel criar, ler e modificar os testes em qualquer editor de texto de forma simples.


## Um exemplo de teste simples

O trecho de código abaixo é um teste do Selenium que executa três ações (etapas de teste):

Navega para a página inicial do GitHub.

Procura o texto "react" e pressiona ENTER.

Valida se o repositório React existe nos resultados da pesquisa.

```yaml
description: Verifique o repositório React no site do GitHub
tags: [smoke-tests]
actors:
  - actor: WEB
    segments:
      - segment: 1
        actions:
          - description: Navega para a página inicial do GitHub.
            action: org.getopentest.selenium.NavigateTo
            args:
              url: https://github.com

          - description: Digita "react" no campo de busca e pressiona ENTER.
            action: org.getopentest.selenium.SendKeys
            args:
              locator: { name: q }
              text: react
              sendEnter: true

          - description: Valida se o repositório React existe nos resultados da pesquisa
            action: org.getopentest.selenium.AssertElementVisible
            args:
              locator: { xpath: "//a[@href='/facebook/react']" }
```

## O *actor* de testes

A linha 3 do teste acima podemos ver o trecho `- actor: WEB`. Esse código define o início de uma nova seção de ator de teste e especifica o tipo de ator de teste que executará o teste descrito no arquivo. Sempre será necessário identificar o actor, pois em projetos complexos podem ser necessários vários tipos de atores de teste que podem estar atuando simultaneamente (por exemplo, um actor para testes mobile, um actor para testes web, um actor para testes de API, etc)
- O tipo do actor de teste é uma string cujo valor pode ser definido para qualquer coisa que seja relevante para o aplicativo em teste ou o projeto de automação de teste específico.
- Normalmente, o nome do actor, ou `actorType`, é definido como uma abreviação de três letras maiúsculas, como "WEB", "MOB" ou "API".
- O nome do actor deve ser exatamente igual a mesma string no arquivo de teste especificada para o parâmetro `actorType` no arquivo de configuração do actor de testes.

## O *segment* do arquivo de teste

A linha 5 do exemplo de teste de amostra o trecho `- segment: 1`. Esse código define o início de um novo segmento de teste.
Os segmentos de teste são executados de forma sequencial, o que significa que o segmento de número 2 só começará a ser executado após o término do segmento 1. Esse recurso é necessário apenas para testes distribuídos, para sincronizar o trabalho entre vários atores de teste executados em máquinas diferentes.
Entretanto, os arquivos de teste normalmente irão possuir apenas um único segmento de teste, assim como o exemplo do teste acima.

